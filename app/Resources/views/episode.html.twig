{% extends "::layout.html.twig" %}

{%  block body %}
    {{ parent() }}

    <div class="corp">
        <div  id="episodeUnique">
            <div class="dernierEpisode">
                {% autoescape false %}
                    <h2>{{ episode.titre }}</h2>
                    <p class="publie">Publié le {{ episode.date|date('d-m-Y') }} à {{ episode.date|date('H:m') }}</p>
                    <p>{{ episode.texte }}</p>
                {% endautoescape %}
            </div>
        </div>

        <div class="commentaires">
            <h2>COMMENTAIRES</h2>

            {% for commentaire in episode.commentaires %}

                <div>
                    <h3>{{ commentaire.auteur }}</h3>
                    <p class="publie"> Envoyé le : {{ commentaire.date|date('d-m-Y') }} à {{ commentaire.date|date('H:m') }}</p>
                    <p id="textCommentaire">{{ commentaire.texte }}</p>

                    <a href="{{ path('reponseComment', {'id': commentaire.id}) }}"><p>Répondre</p></a>

                    <a href="{{ path('report', {'id': commentaire.id}) }}"><p>Signler ce commentaire</p></a>
                </div>

            {% endfor %}

<hr>
        </div>

        <div id="addComment">
            {{ form_start(form) }}
                {{ form_row(form.auteur) }}
                {{ form_errors(form.auteur) }}
                {{ form_row(form.texte) }}
                {{ form_errors(form.texte) }}
                {{ form_row(form.envoyer) }}
            {{ form_end(form) }}
        </div>

    </div>
{% endblock %}
